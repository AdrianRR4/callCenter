<app-header-home [title]="title"></app-header-home>

<ion-toolbar>
  <h3 class="subtituloBlack encabezado">Ingrese los datos del cliente</h3>
</ion-toolbar>
<ion-content>
  <form (ngSubmit)="registerCustomer(form)" #form="ngForm">

    
    <ion-card>
      <!--
      <ion-grid fixed>
        <ion-row>
          <ion-col size="6">
            <h4 class="subtituloBlack encabezado"> Tipo de régimen </h4>
            <ion-item>
              <ion-label>Domestico</ion-label>
              <ion-toggle color="primary"></ion-toggle>
              <ion-icon slot="start" name="home"></ion-icon>
            </ion-item>
            <ion-item>
              <ion-label>Comercial</ion-label>
              <ion-toggle color="primary"></ion-toggle>
              <ion-icon slot="start" name="business"></ion-icon>
            </ion-item>
            <ion-item>
              <ion-label>Industrial</ion-label>
              <ion-toggle color="primary"></ion-toggle>
              <ion-icon slot="start" name="nuclear"></ion-icon>
            </ion-item>
          </ion-col>
          <ion-col size="6">
            <h4 class="subtituloBlack encabezado"> Requiere facturar </h4>
            <ion-item>
              <ion-label>Si</ion-label>
              <ion-toggle color="primary"></ion-toggle>
              <ion-icon slot="start" name="checkmark-circle-outline "></ion-icon>
            </ion-item>
            <ion-item>
              <ion-label>No</ion-label>
              <ion-toggle color="primary"></ion-toggle>
              <ion-icon slot="start" name="close-circle-outline"></ion-icon>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>

      <div>
        <ion-card>
          <ion-grid fixed>
            <ion-row>
              <ion-col size="4">
<ion-item>
  <ion-label>Nombre</ion-label>
  <ion-input type="text" ></ion-input>
  <ion-icon slot="start" name="add"></ion-icon>
</ion-item>
<ion-item>
  <ion-label>RFC</ion-label>
</ion-item>
<ion-item>
  <ion-label>Email</ion-label>
</ion-item>
              </ion-col>
              <ion-col size="4">

              </ion-col>
              <ion-col size="4">

              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-card>
      </div>
      -->
      
      <div class="content">
        <ion-grid fixed>
          <ion-row>
            <ion-col size="6">
              <ion-item>
                <ion-icon slot="start" name="person"></ion-icon>
                <ion-label position="floating">Nombre(s) y apllidos:
                  <ion-text color="danger">*</ion-text>
                </ion-label>
                <ion-input [(ngModel)]="dataForm.nombreCompleto" name="nombre" required #nombre="ngModel"></ion-input>
                <small *ngIf="nombre.invalid && nombre.touched" class="form-text text-danger">Nombre es un campo
                  obligatorio</small>
              </ion-item>

              <div class="content-phone">
                <ion-item>
                  <ion-icon slot="start" name="call"></ion-icon>
                  <ion-label position="floating">Telefono Principal:
                    <ion-text color="danger">*</ion-text>
                  </ion-label>
                  <ion-input [(ngModel)]="dataForm.telefono" type="number" name="telefono" required #telefono="ngModel"
                    maxlength="8" min="0" pattern="^[0-9]+"></ion-input>
                  <small *ngIf="telefono.invalid && telefono.touched" class="form-text text-danger">Teléfono es un campo
                    obligatorio</small>
                </ion-item>
                <ion-item class="select-ctrl">
                  <ion-select value="phone" interface="popover">
                    <ion-select-option value="home">Casa</ion-select-option>
                    <ion-select-option value="phone">Movil</ion-select-option>
                  </ion-select>
                </ion-item>
              </div>
            </ion-col>

            <ion-col size="6">
              <div>
                <ion-item>
                  <ion-label position="floating">Email:</ion-label>
                  <ion-input [(ngModel)]="dataForm.email" type="email" name="email" required #email="ngModel"
                    pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"></ion-input>
                  <small *ngIf="email.invalid && email.touched" class="form-text text-danger">Email es un campo
                    obligatorio</small>
                  <ion-icon slot="start" name="mail"></ion-icon>
                </ion-item>
              </div>

              <div class="content-phone">
                <ion-item>
                  <!--    <ion-icon slot="start" name="call"></ion-icon>-->
                  <ion-label position="floating">Telefono 2: </ion-label>
                  <ion-input [(ngModel)]="dataForm.telefonoAlt" type="number" name="telefono2" maxlength="8" min="0"
                    pattern="^[0-9]+"></ion-input>
                </ion-item>

                <ion-item class="select-ctrl">
                  <ion-select value="home" interface="popover">
                    <ion-select-option value="home">Casa</ion-select-option>
                    <ion-select-option value="phone">Movil</ion-select-option>
                  </ion-select>
                </ion-item>
              </div>
            </ion-col>
          </ion-row>
          <ion-card>
            <ion-grid fixed>
              <ion-row class="ion-text-center">
                <ion-col size="2.4">
                  <ion-label>Nombre</ion-label>
                </ion-col>
                <ion-col size="2.4">
                  <ion-label>Teléfono</ion-label>
                </ion-col>

                <ion-col size="2.4">
                  <ion-label>Tel. Alterno</ion-label>
                </ion-col>
                <ion-col size="2.4">
                  <ion-label>Email</ion-label>
                </ion-col>
                <ion-col size="2.4">
                  <ion-label>Borrar</ion-label>
                </ion-col>
              </ion-row>

              <ion-list>
                <ion-row *ngFor="let data of personalDataList; let i=index" class="ion-text-center">
                  <ion-col size="2.4">
                    <ion-label>{{data.nombreCompleto}}</ion-label>
                  </ion-col>
                  <ion-col size="2.4">
                    <ion-label>{{data.telefono}}</ion-label>
                  </ion-col>
                  <ion-col size="2.4">
                    <ion-label>{{data.telefonoAlt}}</ion-label>
                  </ion-col>
                  <ion-col size="2.4">
                    <ion-label>{{data.email}}</ion-label>
                  </ion-col>
                  <ion-col size="2.4">
                    <ion-icon (click)="deleteClient(i)" name="trash-bin"></ion-icon>
                  </ion-col>
                </ion-row>
              </ion-list>
            </ion-grid>
          </ion-card>
          <ion-row>
            <ion-col size="12" style="text-align: center">
              <ion-button (click)="registerCustomer(form)" class="color">
                <ion-icon slot="start" name="add" style="color: white"></ion-icon>Agregar
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </div>
    </ion-card>
  </form>

  <form (ngSubmit)="informatinAddress(form1)" #form1="ngForm">
    <ion-card>
      <ion-grid fixed>
        <ion-row>
          <ion-col size="6">
            <ion-item class="normalBlack">
              <ion-label>Facturación predeterminada </ion-label>
              <ion-icon slot="start" name="compass"></ion-icon>
              <ion-select [(ngModel)]="addressDataObj.defaultBilling" interface="popover" name="capacidad"
                cancelText="Cancelar" okText="Ok" class="normal" required>
                <ion-select-option value="true">Si </ion-select-option>
                <ion-select-option value="false">No</ion-select-option>
              </ion-select>
            </ion-item>
          </ion-col>
          <ion-col size="6">
            <ion-item class="normalBlack">
              <ion-label>Envío predeterminado </ion-label>
              <ion-icon slot="start" name="compass"></ion-icon>
              <ion-select [(ngModel)]="addressDataObj.defaultShipping" interface="popover" name="capacidad"
                cancelText="Cancelar" okText="Ok" class="normal" required>
                <ion-select-option value="true"> Si</ion-select-option>
                <ion-select-option value="false">No</ion-select-option>
              </ion-select>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>

      <ion-grid fixed>
        <ion-col size="12"></ion-col>
        <ion-item>
          <ion-label class="normal" position="floating"> Calle </ion-label>
          <ion-input [(ngModel)]="addressDataObj.nameStreet" name="calle" class="normal" type="text" inputmode="text"
            #calle="ngModel" required></ion-input>
          <small *ngIf="calle.invalid && calle.touched" class="form-text text-danger">Calle es un campo
            obligatorio</small>
          <ion-icon slot="start" name="locate"></ion-icon>
        </ion-item>
      </ion-grid>

      <ion-grid fixed>
        <ion-row>
          <ion-col size="6">
            <ion-item>
              <ion-label>Estado</ion-label>
              <ion-icon slot="start" name="location"></ion-icon>
              <ion-select interface="popover" [(ngModel)]="addressDataObj.stateName" name="estado"
                (ionChange)="onChange($event)">
                <ion-select-option *ngFor="let state of state" [value]="state.abreviatura">{{state.nombre}}
                </ion-select-option>
              </ion-select>
            </ion-item>
          </ion-col>

          <ion-col size="6">
            <!--  <ion-item>
                            <ion-label position="floating"> Estado</ion-label>
                            <ion-input [(ngModel)]="addressDataObj.stateName" type="text" name="estado" #estado="ngModel" required></ion-input>
                            <small *ngIf="estado.invalid && estado.touched" class="form-text text-danger">Estado es un campo obligatorio</small>
                                <ion-icon slot="start" name="map"></ion-icon>
                            </ion-item>-->

            <ion-item>
              <ion-label position="floating">Ciudad</ion-label>
              <ion-input [(ngModel)]="addressDataObj.city" name="ciudad" class="normal" type="text" inputmode="text"
                #ciudad="ngModel" required></ion-input>
              <small *ngIf="ciudad.invalid && ciudad.touched" class="form-text text-danger">Ciudad es un campo
                obligatorio</small>
              <ion-icon slot="start" name="business"></ion-icon>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
      <ion-grid fixed>
        <ion-row>
          <ion-col size="6">
            <ion-item>
              <ion-label class="normal" position="floating">
                Nº Interior
              </ion-label>
              <ion-input [(ngModel)]="addressDataObj.numInterno" name="noInterior" class="normal" type="number"
                inputmode="text" #noInterior="ngModel" required min="0" pattern="^[0-9]+"></ion-input>
              <ion-icon slot="start" name="trail-sign"></ion-icon>
            </ion-item>
          </ion-col>

          <ion-col size="6">
            <ion-item>
              <ion-label class="normal" position="floating">
                Nº Exterior
              </ion-label>
              <ion-input [(ngModel)]="addressDataObj.numExterno" name="noExterior" class="normal" type="number"
                inputmode="text" #noExterior="ngModel" min="0" pattern="^[0-9]+"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-grid fixed>
          <ion-row>
            <ion-col size="6">
              <ion-item>
                <ion-label class="normal" position="floating">
                  Código Postal (Zip)
                </ion-label>
                <ion-input [(ngModel)]="addressDataObj.zip" name="codigo" class="normal" type="number" inputmode="text"
                  #codigo="ngModel" required min="0" pattern="^[0-9]+"></ion-input>
                <small *ngIf="codigo.invalid && codigo.touched" class="form-text text-danger">Código postal es un campo
                  obligatorio</small>
                <ion-icon slot="start" name="keypad"></ion-icon>
              </ion-item>
            </ion-col>
            <ion-col size="6">
              <ion-item>
                <ion-label position="floating">Colonia</ion-label>
                <ion-input [(ngModel)]="addressDataObj.colonia" name="colonia" type="text" #colonia="ngModel" required>
                </ion-input>
                <small *ngIf="colonia.invalid && colonia.touched" class="form-text text-danger">Colonia postal es un
                  campo obligatorio</small>
                <ion-icon slot="start" name="golf"></ion-icon>
              </ion-item>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12" style="text-align: center">
              <!--   <button class="btn">
                    <ion-icon slot="start" name="add"></ion-icon>
                    Agregar</button>
-->
              <ion-button (click)="informatinAddress(form1)" class="color">
                <ion-icon slot="start" name="add" style="color: white"></ion-icon>Agregar
              </ion-button>

              <ion-button (click)="sendCustomer()" class="color">
                <ion-icon slot="start" name="save" style="color: white"></ion-icon>Registrar
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-grid>
      <ion-card>
        <ion-card-content>
          <ion-grid fixed>
            <ion-row class="ion-text-center">
              <ion-col size="2.4">
                <ion-label>Ciudad</ion-label>
              </ion-col>
              <ion-col size="2.4">
                <ion-label>Estado</ion-label>
              </ion-col>

              <ion-col size="2.4">
                <ion-label>Calle</ion-label>
              </ion-col>
              <ion-col size="2.4">
                <ion-label>Zip</ion-label>
              </ion-col>
              <ion-col size="2.4">
                <ion-label>Borrar</ion-label>
              </ion-col>
            </ion-row>
            <ion-list>
              <ion-row *ngFor="let data of customerAddressList; let i=index" class="ion-text-center">
                <ion-col size="2.4">
                  <ion-label>{{data.city}}</ion-label>
                </ion-col>
                <ion-col size="2.4">
                  <ion-label>{{data.stateName}}</ion-label>
                </ion-col>
                <ion-col size="2.4">
                  <ion-label>{{data.nameStreet}}</ion-label>
                </ion-col>
                <ion-col size="2.4">
                  <ion-label>{{data.zip}}</ion-label>
                </ion-col>
                <ion-col size="2.4">
                  <ion-icon (click)="deleteAdress(i)" name="trash-bin"></ion-icon>
                </ion-col>
              </ion-row>
            </ion-list>
          </ion-grid>
        </ion-card-content>
      </ion-card>
    </ion-card>
  </form>
</ion-content>